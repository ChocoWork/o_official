# 要件定義テンプレート

## タイトル
- （短くわかりやすい機能名）

## 概要
- 目的: この機能が解決する課題、および対象ユーザー
- 背景: ビジネス要件や関係する既存機能

## 範囲 (In / Out)
- 含むもの:
  - 例: メール/パスワード認証、セッション管理
- 含まないもの:
  - 例: SSO、外部IdPのフェデレーション

## 用語定義
- 主要用語（例: RLS, JWT, Checkout）

## 機能要件
- 各要件を番号化して記載（優先度: 必須 / 任意）
- 各要件に対して以下を明記:
  - 受け入れ基準
  - 依存関係
  - 推定工数（ラフ）

## 非機能要件
- セキュリティ、性能、可用性、運用、監視の目安

## API / インターフェース
- エンドポイント、HTTP メソッド、認証方式、入出力スキーマ
```json
{
  "example": "payload"
}
```

## データモデル
- テーブル定義、主なフィールド、制約、インデックス
```sql
-- users テーブル 例
CREATE TABLE users (
  id uuid PRIMARY KEY,
  email text UNIQUE NOT NULL,
  password_hash text NOT NULL,
  created_at timestamptz DEFAULT now()
);
```

## バリデーションルール
- 入力検証ルール（サーバ/クライアント）と利用ライブラリの推奨（例: Zod）

## テストケース（受け入れ基準）
- 正常系・異常系の主要ケースを列挙

## マイグレーション影響
- DB スキーマ変更がある場合の手順、バックアップ、ロールバック指示

## セキュリティ / プライバシー考慮
- シークレット管理、Webhook 署名検証、RLS 方針など

## 実装ノート
- 推奨ライブラリ、環境変数名、重要な実装上の注意点

## 関連ドキュメント
- docs/ECSiteSpec.md

## 担当 / 依存
- 想定担当チーム、外部サービス依存

## 受け入れ基準（まとめ）
- 検証可能なチェックリスト形式でまとめる

## チケット分割例
- TASK-1: API 実装
- TASK-2: UI 実装
- TASK-3: テスト作成

---
※ このテンプレートを LLM に渡して、各機能群ごとにファイルを生成してください。
